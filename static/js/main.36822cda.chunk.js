(this.webpackJsonpleaguewrangler=this.webpackJsonpleaguewrangler||[]).push([[0],{224:function(e,t,a){e.exports=a(346)},346:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"session",(function(){return De}));var r=a(42),c=a(0),l=a.n(c),i=a(55),o=a.n(i),s=a(75),u=function(e){return!!e.session.userToken},m=a(70),d=a.n(m),g=a(134),p=a(34),E=a(14),v=a(46),h=a(7),f=a(45),b=a(47);function w(){var e=Object(f.a)(["\n  query GetCurrentUserEvents {\n    currentUser {\n      events {\n        eventId\n        title\n        endTimestamp\n        startTimestamp\n        viewerRsvpStatus\n        team {\n          shortName\n          photoThumbnailUrl\n        }\n        location {\n          name\n          address\n          googleMapsUrl\n        }\n      }\n    }\n  }\n"]);return w=function(){return e},e}var y,O=Object(b.a)(w()),S=a(40),j=a.n(S),N=a(127),T=a.n(N);!function(e){e.AVAILABLE="AVAILABLE",e.MAYBE="MAYBE",e.NO="NO",e.NONE="NONE",e.YES="YES"}(y||(y={}));var k=a(129),C=a.n(k),U=a(128),L=a.n(U),A=function(e){var t=e.isPlaying,a=e.className,n=t?l.a.createElement(L.a,{className:a,color:"primary"}):l.a.createElement(C.a,{className:a});return l.a.createElement(h.j,{"aria-label":"Playing"},n)},P=a(131),x=a.n(P),B=a(130),I=a.n(B),W=function(e){var t=e.className,a=e.isTentative?l.a.createElement(I.a,{className:t,color:"primary"}):l.a.createElement(x.a,{className:t});return l.a.createElement(h.j,{"aria-label":"Tentative"},a)},R=a(133),M=a.n(R),D=a(132),F=a.n(D),Y=function(e){var t=e.className,a=e.isNotPlaying?l.a.createElement(F.a,{className:t,color:"primary"}):l.a.createElement(M.a,{className:t});return l.a.createElement(h.j,{"aria-label":"Not Playing"},a)},q=Object(E.createStyles)({icon:{fontSize:40}}),$=Object(E.withStyles)(q)((function(e){var t=e.classes,a=e.rsvpStatus;return l.a.createElement(l.a.Fragment,null,l.a.createElement(A,{className:t.icon,isPlaying:a===y.YES}),l.a.createElement(W,{className:t.icon,isTentative:a===y.MAYBE}),l.a.createElement(Y,{className:t.icon,isNotPlaying:a===y.NO}))})),_=Object(E.withStyles)((function(){return Object(E.createStyles)({card:{width:"100%"}})}))((function(e){var t=e.classes,a=e.title,n=e.teamPhotoUrl,r=e.startTime,c=e.location,i=e.rsvpStatus,o=r?l.a.createElement(T.a,{format:"LLLL",date:r}):null;return l.a.createElement(j.a,{className:t.card},l.a.createElement(h.e,{avatar:l.a.createElement(h.a,{"aria-label":"teamPhoto",src:n||""}),title:a,subheader:o}),l.a.createElement(h.d,null,l.a.createElement(h.p,{component:"p"},c)),l.a.createElement(h.c,null,l.a.createElement($,{rsvpStatus:i})))})),G=a(65),V=a.n(G),z=a(66),J=a.n(z),K=a(67),Q=a.n(K),H=a(35),X=a.n(H),Z=a(350),ee=Object(E.withStyles)((function(){return Object(E.createStyles)({card:{maxWidth:354,width:"100%"}})}))((function(e){var t=e.classes.card,a=l.a.createElement(Z.a,{height:6}),n=l.a.createElement(Z.a,{height:6,width:"80%"});return l.a.createElement(j.a,{className:t},l.a.createElement(Q.a,{avatar:l.a.createElement(Z.a,{variant:"circle",width:40,height:40}),title:a,subheader:n}),l.a.createElement(J.a,null,l.a.createElement(Z.a,{variant:"rect",height:50})),l.a.createElement(V.a,null,l.a.createElement(X.a,null,l.a.createElement(Z.a,{variant:"rect"}))))}));function te(e){return null!==e&&void 0!==e}var ae=function(){var e=Object(v.b)(O),t=e.loading,a=e.data,n=e.error;if(t)return l.a.createElement(ee,null);if(n||!a)return l.a.createElement(l.a.Fragment,null,"Some error");var r=a.currentUser.events.filter(te);return r.length>0?l.a.createElement(h.m,null,r.map((function(e){return l.a.createElement(h.n,{key:e.eventId},l.a.createElement(_,{title:e.title,teamPhotoUrl:e.team.photoThumbnailUrl,location:e.location?e.location.name:"",startTime:e.startTimestamp?new Date(1e3*e.startTimestamp):void 0,rsvpStatus:e.viewerRsvpStatus}))}))):l.a.createElement(l.a.Fragment,null,"No events scheduled")},ne=Object(E.withStyles)((function(e){return Object(E.createStyles)({main:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:2*e.spacing.unit}})}))((function(e){var t=e.classes;return l.a.createElement("div",{className:t.main},l.a.createElement(ae,null))})),re=function(){return l.a.createElement(g.a,null,l.a.createElement(p.c,null,l.a.createElement(p.a,{exact:!0,path:"/",component:ne})))},ce=function(){return l.a.createElement(re,null)},le=a(68),ie=a.n(le),oe=a(69),se=a.n(oe),ue=a(137),me=a.n(ue),de=a(136),ge=a.n(de);function pe(){var e=Object(f.a)(["\n  query GetUserAvatar {\n    currentUser {\n      profilePhotoThumbnailUrl\n    }\n  }\n"]);return pe=function(){return e},e}var Ee=Object(b.a)(pe()),ve=Object(E.createStyles)({avatar:{margin:10}}),he=Object(E.withStyles)(ve)((function(e){var t=e.classes,a=Object(v.b)(Ee),n=a.loading,r=a.data;return n?l.a.createElement(h.g,{color:"secondary"}):r&&r.currentUser?l.a.createElement(h.a,{src:r.currentUser.profilePhotoThumbnailUrl,className:t.avatar}):l.a.createElement(ge.a,null)})),fe=Object(E.createStyles)({menuButton:{marginLeft:-12,marginRight:20},grow:{flexGrow:1}}),be=Object(E.withStyles)(fe)((function(e){var t=e.classes;return l.a.createElement(ie.a,{position:"static"},l.a.createElement(se.a,null,l.a.createElement(X.a,{className:t.menuButton,color:"inherit","aria-label":"Menu"},l.a.createElement(me.a,null)),l.a.createElement(h.p,{variant:"h6",color:"inherit",className:t.grow},"League Wrangler"),l.a.createElement(he,null)))})),we=a(138),ye=a.n(we),Oe=a(9),Se=a.n(Oe),je=a(71),Ne=a(76),Te=function(e){var t=e.className,a=e.isDisabled,n=e.onClick;return l.a.createElement(h.b,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t,onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.preventDefault(),n()})),disabled:a},"Sign in")};function ke(){var e=Object(f.a)(["\n  mutation CreateUserToken($username: String!, $password: String!) {\n    createUserToken(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return ke=function(){return e},e}var Ce=Object(b.a)(ke()),Ue=function(e){var t=Object(c.useState)(e),a=Object(Ne.a)(t,2),n=a[0],r=a[1];return{value:n,onChange:Object(c.useCallback)((function(e){r(e.target.value)}),[])}},Le=function(e){var t,a=e.submitButtonClassname,n=e.formClassname,r=Ue(""),i=r.value,o=r.onChange,s=Ue(""),u=s.value,m=s.onChange,d=Object(v.a)(Ce),g=Object(Ne.a)(d,2),p=g[0],E=g[1],f=E.data,b=E.error,w=E.loading,y=Object(c.useCallback)((function(){p({variables:{username:i,password:u}})}),[p,i,u]);f&&f.createUserToken&&(t=f.createUserToken.token,localStorage.setItem("userToken",t),window.location.reload());var O=w?l.a.createElement(h.g,{color:"secondary"}):l.a.createElement(Te,{onClick:y,isDisabled:!i||!u,className:a});return l.a.createElement("div",{className:n},l.a.createElement(h.h,{margin:"normal",required:!0,fullWidth:!0,error:!!b},l.a.createElement(h.l,{htmlFor:"username"},"Username"),l.a.createElement(h.k,{id:"username",name:"username",autoComplete:"username",autoFocus:!0,value:i,onChange:o})),l.a.createElement(h.h,{margin:"normal",required:!0,fullWidth:!0,error:!!b},l.a.createElement(h.l,{htmlFor:"password"},"Password"),l.a.createElement(h.k,{name:"password",type:"password",id:"password",autoComplete:"current-password",value:u,onChange:m})),l.a.createElement(h.i,{control:l.a.createElement(h.f,{value:"remember",color:"primary"}),label:"Remember me"}),O)},Ae=Se()((function(e){return Object(E.createStyles)({main:Object(je.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}})}))((function(e){var t=e.classes;return l.a.createElement("div",{className:t.main},l.a.createElement(h.o,{className:t.paper},l.a.createElement(h.a,{className:t.avatar},l.a.createElement(ye.a,null)),l.a.createElement(h.p,{component:"h1",variant:"h5"},"Sign in"),l.a.createElement(Le,{formClassname:t.form,submitButtonClassname:t.submit})))})),Pe=function(e){var t=e.isAuthenticated;return l.a.createElement("div",null,l.a.createElement(d.a,null),l.a.createElement(be,null),t?l.a.createElement(ce,null):l.a.createElement(Ae,null))},xe=Object(s.b)((function(e){return{isAuthenticated:u(e)}}))(Pe),Be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ie(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var We=a(43),Re=a(139),Me={},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SESSION.SET_USER_TOKEN":return Object(r.a)({},e,{userToken:t.payload});default:return e}},Fe=function(){var e=Object(We.combineReducers)(Object(r.a)({},n)),t=Object(Re.composeWithDevTools)();return Object(We.createStore)(e,t)},Ye=a(29),qe=a(41),$e=a(142),_e=a(36),Ge=a(18),Ve=a(141),ze=a.n(Ve),Je=a(140),Ke=a.n(Je),Qe=Object(E.createMuiTheme)({palette:{primary:Ke.a,secondary:ze.a},typography:{useNextVariants:!0}}),He=Fe(),Xe=localStorage.getItem("userToken"),Ze=Object(qe.b)({uri:"/graphql"}),et=Object($e.a)((function(e,t){var a=t.headers;return{headers:Object(r.a)({},a,{authorization:Xe?"Bearer ".concat(Xe):""})}})),tt=new Ye.a({link:et.concat(Ze),cache:new _e.a});Xe&&He.dispatch({type:"SESSION.SET_USER_TOKEN",payload:Xe}),o.a.render(l.a.createElement(Ge.a,{client:tt},l.a.createElement(E.MuiThemeProvider,{theme:Qe},l.a.createElement(s.a,{store:He},l.a.createElement(xe,null)))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Be?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ie(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Ie(e)}))}}()}},[[224,1,2]]]);
//# sourceMappingURL=main.36822cda.chunk.js.map